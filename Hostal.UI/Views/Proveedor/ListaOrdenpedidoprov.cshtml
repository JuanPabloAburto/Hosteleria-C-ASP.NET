@model  List<Negocio.Proveedor.ListOrdenpedidoprov>

@{
    ViewBag.Title = "ListaOrdenpedidoprov";
    Layout = "~/Views/Shared/Layout_Usuarios/_Layout_Home_Prov.cshtml";
}

<div class="row">

    <div class="col-md-12 container">
        <h2><strong>Lista</strong></h2>
        <h4>Orden de Pedido</h4>
        <hr class="bg-warning" />
        <div class="table-responsive">
            <table id="TablaOrdenCompra" class="table table-striped table-hover table-sm">
                <thead class="thead-dark">
                    <tr>
                        <th>N° Orden  pedido       </th>
                        <th>Fecha Orden     </th>
                        <th>Rut empleado         </th>
                        <th>nombre empleado         </th>
                        <th>Total  Productos         </th>
                        <th>Estado de Orden </th>
                        <th>Ver             </th>
                        <th>Motivo             </th>

                    </tr>
                </thead>

                @foreach (var item in Model)
                {
                    <tr>
                        <td> @Html.DisplayFor(modelItem => item.ID_ORDENPEDIDO)            </td>
                        <td>@(String.Format("{0:dd/MM/yyyy}", item.FECHA_ORDEN))</td>
                        <td>@Html.DisplayFor(modelItem => item.RUT_EMP)</td>

                        @* <td> @Html.DisplayFor(modelItem => item.FECHASALIDA)            </td>*@
                        <td> @Html.DisplayFor(modelItem => item.NOMBRE_EMP) @Html.DisplayFor(modelItem => item.APELLIDOPATERNO_EMP)  </td>
                        <td>  @Html.DisplayFor(modelItem => item.PRECIO_TOTAL) </td>

                        @if (item.estadoorden == "en proceso")
                        {
                            <td><span class="badge badge-dark">@item.estadoorden</span>          </td>
                        }
                        @if (item.estadoorden == "rechazada")
                        {
                            <td><span class="badge badge-danger">@item.estadoorden</span>          </td>
                        }
                        @if (item.estadoorden == "despachada")
                        {
                            <td><span class="badge badge-primary">@item.estadoorden</span>          </td>
                        }

                        @if (item.estadoorden == "aceptada")
                        {
                            <td><span class="badge badge-warning">@item.estadoorden</span>          </td>
                        }




                        <td>
                            @Html.ActionLink("Ver productos Solicitados", "Lista_ProductosSolicitados", new { id_ped = item.ID_ORDENPEDIDO }, new { @class = "btn btn-warning" })
                        </td>

                        @if (item.estadoorden == "rechazada")
                        {
                            <td> @Html.ActionLink("Ver Motivo", "Motivo_detalle", new { id_ped = item.ID_ORDENPEDIDO }, new { @class = "btn btn-secondary" })</td>
                        }
                        
                    </tr>
                }
                </table>
        </div>

    </div>
</div>